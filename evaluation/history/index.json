{
  "meta": {
    "created": "2025-02-16",
    "description": "neuromem LoCoMo 基准测试历史记录",
    "benchmark": "locomo",
    "dataset": "locomo10.json"
  },

  "tests": [
    {
      "test_id": "2025-02-15_baseline",
      "date": "2025-02-15",
      "name": "Baseline Test",
      "commit": "5c9672d2",
      "branch": "master",
      "judge_score": 0.125,
      "file": "2025-02-15_baseline.json",
      "notes": "基线测试"
    },
    {
      "test_id": "2025-02-16_perf_opt",
      "date": "2025-02-16",
      "name": "Performance Optimization Test",
      "commit": "e7c0f3d5",
      "branch": "eval/locomo-improvements",
      "judge_score": 0.274,
      "improvement_vs_previous": 119.0,
      "file": "2025-02-16_perf_opt.json",
      "notes": "性能优化版本：速度提升24倍，质量提升119%"
    },
    {
      "test_id": "2025-02-17_complete_test",
      "date": "2025-02-17",
      "name": "Complete Test with Fixed Conv 8-9",
      "commit": "e5066cc5",
      "branch": "main",
      "judge_score": 0.4312,
      "improvement_vs_previous": 57.4,
      "file": "2025-02-17_complete_test.json",
      "analysis_file": "2025-02-17_complete_test_analysis.md",
      "notes": "历史性突破：数据完整性保证 + Conv 8-9 修复，Judge 分数从 0.274 提升至 0.431"
    },
    {
      "test_id": "2025-02-17_temporal_pgsearch",
      "date": "2025-02-17",
      "name": "Temporal Extraction + pg_search BM25",
      "branch": "master",
      "judge_score": 0.610,
      "improvement_vs_previous": 41.5,
      "file": "2025-02-17_temporal_pgsearch.json",
      "analysis_file": "2025-02-17_temporal_pgsearch_analysis.md",
      "notes": "时间提取系统 + ParadeDB pg_search BM25，Judge 0.431 → 0.610 (+41.5%)，累计 +388%"
    },
    {
      "test_id": "2025-02-19_profile_graph",
      "date": "2025-02-19",
      "name": "User Profile + Graph Entity Matching + Recall Limit 20",
      "commit": "8605250b",
      "branch": "master",
      "judge_score": 0.704,
      "improvement_vs_previous": 15.4,
      "file": "2025-02-19_profile_graph.json",
      "notes": "User Profile 提取注入 + Graph 实体匹配 + Recall Limit 20，Judge 0.610 → 0.704 (+15.4%)，累计 +463%"
    },
    {
      "test_id": "2026-02-20_episodic_boost",
      "date": "2026-02-20",
      "name": "Episodic Boost + Enriched Recall Context (R10)",
      "commit": "173cfe2f",
      "branch": "master",
      "judge_score": 0.704,
      "total_questions": 1534,
      "checkpoint_file": "locomo_query_checkpoint.json.r10",
      "notes": "Episodic boost + enriched recall context，Judge 无提升（0.704），judge score 从 R11 commit message 反推"
    },
    {
      "test_id": "2026-02-21_temporal_filtering",
      "date": "2026-02-21",
      "name": "Temporal Time-Range Filtering (R11)",
      "commit": "60bf59e9",
      "branch": "master",
      "judge_score": 0.714,
      "improvement_vs_previous": 1.4,
      "total_questions": 1532,
      "checkpoint_file": "locomo_query_checkpoint.json.r11",
      "notes": "时序查询过滤：从 query 提取时间范围，episodic 按时间窗口过滤。Temporal Cat +0.198 (0.454→0.652)，multi-hop +0.049。Judge 0.704 → 0.714"
    },
    {
      "test_id": "2026-02-21_parallel_pipeline",
      "date": "2026-02-21",
      "name": "Parallel Evaluation Pipeline + OpenAI Provider (R12)",
      "commit": "1b9fe75a",
      "branch": "master",
      "judge_score": 0.802,
      "improvement_vs_previous": 12.3,
      "total_questions": 1518,
      "notes": "并行化 ingest/query/evaluate 三阶段 + 指数退避重试 + OpenAI embedding proxy 支持。Judge 0.714 → 0.802 (+12.3%)"
    },
    {
      "test_id": "2026-02-21_profile_refactor",
      "date": "2026-02-21",
      "name": "Profile Refactor: Merge Preferences (R13)",
      "commit": "f72f5974",
      "branch": "master",
      "judge_score": 0.8017,
      "f1": 0.2973,
      "bleu1": 0.2432,
      "improvement_vs_previous": -0.03,
      "total_questions": 1518,
      "results_file": "locomo_results.json",
      "checkpoint_file": "locomo_query_checkpoint.json",
      "by_category": {
        "1": {"count": 279, "judge": 0.871, "f1": 0.238},
        "2": {"count": 313, "judge": 0.716, "f1": 0.342},
        "3": {"count": 94,  "judge": 0.819, "f1": 0.144},
        "4": {"count": 832, "judge": 0.809, "f1": 0.317}
      },
      "notes": "Preferences 合并进 profile namespace，重构无功能变化。Judge 0.8017，与 R12 持平"
    },
    {
      "test_id": "2026-03-01_classification_v2",
      "date": "2026-03-01",
      "name": "Memory Classification V2 + OpenAI via OpenRouter (R14)",
      "commit": "cb258aa",
      "branch": "master",
      "judge_score": 0.806,
      "f1": 0.256,
      "bleu1": 0.203,
      "improvement_vs_previous": 0.5,
      "total_questions": 1483,
      "results_file": "locomo_results.json",
      "by_category": {
        "1": {"count": 274, "judge": 0.807, "f1": 0.188},
        "2": {"count": 307, "judge": 0.756, "f1": 0.301},
        "3": {"count": 90,  "judge": 0.911, "f1": 0.128},
        "4": {"count": 812, "judge": 0.813, "f1": 0.276}
      },
      "config": {
        "llm": "openai/gpt-4o-mini via OpenRouter",
        "embedding": "openai/text-embedding-3-small via OpenRouter",
        "judge": "openai/gpt-4o-mini via OpenRouter",
        "decay_rate_days": 365,
        "reflection_interval": 20,
        "graph_enabled": false
      },
      "notes": "记忆分类 V2 重构（fact/episodic/trait/document 四分类，insight 降级为 trait.trend，新增 trait 三层子类）。LLM/Embedding 从 DeepSeek+SiliconFlow 切换为 OpenAI via OpenRouter。Overall Judge 0.806（+0.5% vs R13）。Open-domain +9.2%，Temporal +4.0%，Multi-hop -6.4%。57 题因 ingest embedding 错误丢失",
      "investigation": {
        "issue": "Multi-hop -6.4%（0.871→0.807）退化原因分析",
        "hypothesis_tested": "trend trait 过滤器排除了旧 insight，导致多跳推理缺失高级语义",
        "fix_applied": "search.py:329 移除 trend 排除 + 添加 trend boost=0.02",
        "r15_result": {"judge": 0.785, "multi_hop": 0.802, "total_questions": 1425},
        "conclusion": "修复无效（Overall 0.806→0.785，multi-hop 持平 0.802），放开 trend 引入噪声导致全面下降。已回滚。退化原因确认为 LLM/Embedding 模型切换（DeepSeek+SiliconFlow → OpenAI gpt-4o-mini），非分类重构问题"
      }
    }
  ],

  "latest": {
    "test_id": "2026-03-01_classification_v2",
    "judge_score": 0.806
  },

  "best": {
    "judge_score": {
      "test_id": "2026-03-01_classification_v2",
      "score": 0.806
    },
    "ingest_speed": {
      "test_id": "2025-02-16_perf_opt",
      "duration_hours": 1.0
    }
  }
}

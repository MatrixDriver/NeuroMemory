{
  "test_id": "2025-02-17_hybrid_search",
  "test_name": "æ··åˆæœç´¢ + è®°å¿†æå–å¢å¼º (æ€§èƒ½ä¸‹é™)",
  "timestamp": "2026-02-16T17:23:05.743872",
  "benchmark": "locomo",
  "dataset": "locomo10.json",
  "environment": {
    "neuromemory_commit": "8a8188f1",
    "neuromemory_branch": "eval/locomo-test",
    "neuromemory_version": "v0.2.x-dev",
    "eval_commit": "8a8188f1",
    "database": {
      "type": "postgresql",
      "version": "16.x",
      "host": "localhost:5433",
      "isolation": "dedicated_container",
      "extensions": [
        "pgvector",
        "age"
      ]
    },
    "embedding": {
      "provider": "siliconflow",
      "model": "BAAI/bge-m3",
      "dimensions": 1024
    },
    "llm": {
      "provider": "deepseek",
      "model": "deepseek-chat"
    },
    "judge": {
      "provider": "deepseek",
      "model": "deepseek-chat"
    }
  },
  "optimizations": [
    "feat: å‘é‡ + BM25 æ··åˆæœç´¢ï¼ˆRRF èåˆæ’åï¼‰",
    "feat: fact æå–è¦æ±‚åŸå­åŒ– + ä»£è¯æ¶ˆè§£ + å®Œæ•´ä¸»è°“å®¾",
    "feat: å¢åŠ æ¦‚å¿µæ€§çŸ¥è¯†æå–ï¼ˆæ„å›¾/è®¡åˆ’/ä»·å€¼è§‚ç­‰ï¼‰",
    "feat: æ³¨å…¥ä¼šè¯æ—¶é—´ä¸Šä¸‹æ–‡è®¡ç®—ç›¸å¯¹â†’ç»å¯¹æ—¶é—´",
    "feat: æ–°å¢ event_after/event_before æ—¶é—´è¿‡æ»¤",
    "feat: recall é»˜è®¤ limit 10â†’20",
    "fix: ç”¨æˆ·æ•°æ®éš”ç¦»ä¿®å¤ï¼ˆfiles.py, graph.pyï¼‰",
    "âš ï¸ å®é™…ç»“æœï¼šæ€§èƒ½å…¨é¢ä¸‹é™ -32.7%"
  ],
  "performance": {
    "ingest_phase": {
      "duration_hours": 0,
      "duration_minutes": 0,
      "note": "ä½¿ç”¨ Conv 0 checkpointï¼Œæœªé‡æ–°è¿è¡Œ ingest"
    },
    "query_phase": {
      "duration_hours": 1.58,
      "duration_minutes": 95,
      "start_time": "14:57",
      "end_time": "16:32",
      "questions": 1540,
      "avg_seconds_per_question": 3.7,
      "failed_questions": 0,
      "retry_warnings": 5
    },
    "evaluate_phase": {
      "duration_hours": 0.85,
      "duration_minutes": 51,
      "start_time": "16:32",
      "end_time": "17:23",
      "questions": 1540,
      "avg_seconds_per_judge": 2.0
    },
    "total_duration_hours": 2.43,
    "total_duration_minutes": 146
  },
  "results": {
    "total_questions": 1540,
    "overall": {
      "f1": 0.10102754171867653,
      "bleu1": 0.07928054020350325,
      "judge": 0.18441558441558442
    },
    "by_category": {
      "2": {
        "count": 321,
        "f1": 0.04475788144012444,
        "bleu1": 0.03173541414520865,
        "judge": 0.0778816199376947
      },
      "3": {
        "count": 96,
        "f1": 0.08861611847212336,
        "bleu1": 0.06721937456715422,
        "judge": 0.21875
      },
      "1": {
        "count": 282,
        "f1": 0.10859405853460108,
        "bleu1": 0.07685569002667136,
        "judge": 0.1950354609929078
      },
      "4": {
        "count": 841,
        "f1": 0.12138461643805062,
        "bleu1": 0.09961783522807956,
        "judge": 0.21759809750297265
      }
    }
  },
  "key_findings": [
    "âš ï¸ æ€§èƒ½å…¨é¢ä¸‹é™ï¼šæ•´ä½“ Judge åˆ†æ•°ä» 0.274 ä¸‹é™åˆ° 0.1844ï¼ˆ-32.7%ï¼‰",
    "æ‰€æœ‰ç±»åˆ«å¾—åˆ†å‡ä¸‹é™ï¼šMulti-hop -36.1%, Temporal -10.5%, Open-domain -36.4%, Single-hop -33.5%",
    "Query é˜¶æ®µé›¶å¤±è´¥ï¼š1540 ä¸ªé—®é¢˜å…¨éƒ¨æˆåŠŸå¤„ç†ï¼Œä»… 5 æ¬¡é‡è¯•è­¦å‘Š",
    "æµ‹è¯•æ‰§è¡Œç¨³å®šï¼šæ—  API é™æµé—®é¢˜ï¼Œå¤„ç†é€Ÿåº¦ç¨³å®šï¼ˆ3.7ç§’/é—®é¢˜ï¼‰",
    "Temporal ç±»åˆ«ä¸‹é™æœ€å°ï¼ˆ-10.5%ï¼‰ï¼Œè¯´æ˜æ—¶é—´ç›¸å…³ä¼˜åŒ–å¯èƒ½æœ‰æ­£å‘ä½œç”¨"
  ],
  "issues": [
    "ğŸ”´ ä¸¥é‡æ€§èƒ½å€’é€€ï¼šæ–°ä»£ç å¯¼è‡´æ‰€æœ‰ç±»åˆ«æ€§èƒ½æ˜¾è‘—ä¸‹é™",
    "å¯èƒ½åŸå›  1ï¼šæ··åˆæœç´¢ï¼ˆBM25 + Vectorï¼‰å®ç°æœ‰é—®é¢˜ï¼Œcandidate_limit = limit * 4 å¼•å…¥å¤ªå¤šå™ªéŸ³",
    "å¯èƒ½åŸå›  2ï¼šrecall é»˜è®¤ limit ä» 10 å¢åŠ åˆ° 20ï¼Œå¬å›äº†è¿‡å¤šä¸ç›¸å…³è®°å¿†",
    "å¯èƒ½åŸå›  3ï¼šå¢å¼ºçš„ fact æå–ï¼ˆåŸå­åŒ–ã€ä»£è¯æ¶ˆè§£ï¼‰å¯èƒ½æå–è´¨é‡ä¸é«˜",
    "å¯èƒ½åŸå›  4ï¼šRRF èåˆæƒé‡ä¸åˆç†ï¼Œå¯¼è‡´ç›¸å…³æ€§æ’åºå˜å·®",
    "éœ€è¦å›æ»šä»£ç æˆ–è°ƒè¯•æ··åˆæœç´¢å®ç°"
  ],
  "notes": "æœ¬è½®æµ‹è¯•åŒæ­¥äº† commit 8a8188f1 çš„ä»£ç ï¼ŒåŒ…å«å¤§é‡è®°å¿†æå–å’Œæœç´¢ä¼˜åŒ–ã€‚ç†è®ºä¸Šè¿™äº›ä¼˜åŒ–åº”è¯¥æå‡æ€§èƒ½ï¼Œä½†å®é™…æµ‹è¯•ç»“æœæ˜¾ç¤ºæ€§èƒ½å…¨é¢ä¸‹é™ 32.7%ã€‚è¿™æ˜¯ä¸€ä¸ªæ„å¤–çš„ç»“æœï¼Œéœ€è¦æ·±å…¥åˆ†æä»£ç å˜æ›´ï¼Œæ‰¾å‡ºæ€§èƒ½ä¸‹é™çš„æ ¹æœ¬åŸå› ã€‚å»ºè®®ï¼š1) æ£€æŸ¥æ··åˆæœç´¢å®ç°ï¼›2) é™ä½ recall limit å›åˆ° 10ï¼›3) éªŒè¯ fact æå–è´¨é‡ï¼›4) è°ƒæ•´ RRF æƒé‡æˆ–å€™é€‰é›†å¤§å°ã€‚",
  "regression_analysis": {
    "vs_baseline": "2025-02-16_perf_opt",
    "overall_change": {
      "judge_delta": -0.0896,
      "judge_percent": -32.7,
      "f1_delta": -0.0440,
      "f1_percent": -30.3,
      "bleu1_delta": -0.0347,
      "bleu1_percent": -30.4
    },
    "by_category": {
      "1_multi_hop": {
        "baseline": 0.305,
        "current": 0.1950,
        "delta": -0.110,
        "percent": -36.1
      },
      "2_temporal": {
        "baseline": 0.087,
        "current": 0.0779,
        "delta": -0.0091,
        "percent": -10.5
      },
      "3_open_domain": {
        "baseline": 0.344,
        "current": 0.2188,
        "delta": -0.1252,
        "percent": -36.4
      },
      "4_single_hop": {
        "baseline": 0.327,
        "current": 0.2176,
        "delta": -0.1094,
        "percent": -33.5
      }
    },
    "suspected_causes": [
      "æ··åˆæœç´¢ candidate_limit è¿‡å¤§ï¼ˆlimit * 4ï¼‰",
      "recall limit å¢åŠ å¯¼è‡´å™ªéŸ³å¢åŠ ",
      "BM25 å®ç°å¯èƒ½æœ‰ bug æˆ–æƒé‡ä¸åˆç†",
      "RRF èåˆç®—æ³•å¯èƒ½å­˜åœ¨é—®é¢˜",
      "å¢å¼ºçš„ fact æå–è´¨é‡ä¸å¦‚é¢„æœŸ"
    ]
  }
}